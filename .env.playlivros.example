# --- Core ---
# NUNCA commite seu .env real. Use este arquivo como exemplo e copie para .env.
# URL de conexão do Postgres usado pelo Circulation Manager.
# Formato: postgresql://USUARIO:SENHA@HOST:PORTA/NOME_DO_BANCO
SIMPLIFIED_PRODUCTION_DATABASE=postgresql://palace:CHANGE_ME_PASSWORD@postgres:5432/palace

# URL do OpenSearch (ou Elasticsearch compatível) usado pela busca.
PALACE_SEARCH_URL=http://opensearch:9200

# Base URL pública do Circulation Manager (HTTPS em produção).
PALACE_BASE_URL=https://api.playlivros.com

# Hostnames permitidos do app de patronos (separe com pipe |). Use HTTPS em prod.
PALACE_PATRON_WEB_HOSTNAMES=https://playlivros.com|https://www.playlivros.com


# --- Redis (opcional, deixar comentado por enquanto) ---
# URL do broker do Celery (Redis). Descomente se/quando configurar Redis.
# PALACE_CELERY_BROKER_URL=redis://redis:6379/0
# Resultado do Celery no Redis.
# PALACE_CELERY_RESULT_BACKEND=redis://redis:6379/2
# Cache Redis para o CM.
# PALACE_REDIS_URL=redis://redis:6379/1


# --- Storage Service (Backblaze B2 via S3-compatible) ---
# Nome do bucket público para servir arquivos diretamente aos usuários (deve ser público).
PALACE_STORAGE_PUBLIC_ACCESS_BUCKET=your-bucket-name

# Credenciais S3 do Backblaze B2 (Application Key ID e Application Key).
PALACE_STORAGE_ACCESS_KEY=YOUR_B2_KEY_ID
PALACE_STORAGE_SECRET_KEY=YOUR_B2_APPLICATION_KEY

# Região (opcional):
# - Preferencialmente DEIXE EM BRANCO ao usar B2; o endpoint abaixo é suficiente.
# - Se precisar preencher, use "us-east-1" (compat) OU o código da sua região B2 (ex.: us-west-004).
#   Observação: versões atuais do CM validam contra regiões da AWS; códigos B2 podem não ser aceitos.
#   Se tiver erro de validação, deixe vazio ou use us-east-1.
# PALACE_STORAGE_REGION=us-east-1
# PALACE_STORAGE_REGION=us-west-004

# Endpoint S3 do B2. Inclua o esquema (https://).
PALACE_STORAGE_ENDPOINT_URL=https://s3.us-east-005.backblazeb2.com

# Template de URL pública para objetos. Use {bucket} e {key}.
# Para B2 S3: https://s3.us-east-005.backblazeb2.com/{bucket}/{key}
# ATENÇÃO: Use placeholders ({bucket}/{key}); não coloque valores fixos.
PALACE_STORAGE_URL_TEMPLATE=https://s3.us-east-005.backblazeb2.com/{bucket}/{key}

# --- OPDS GEN (exemplo para gerador OPDS2 local) ---
# B2_ENDPOINT=s3.us-east-005.backblazeb2.com
# B2_KEY_ID=YOUR_B2_KEY_ID
# B2_APP_KEY=YOUR_B2_APPLICATION_KEY
# B2_BUCKET=PlayLivros
# B2_PREFIX=ebooks/
